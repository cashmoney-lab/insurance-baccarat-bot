<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insurance Baccarat Bot</title>
<style>
body { font-family: Arial; background:#111; color:#fff; text-align:center; }
button { font-size:18px; padding:15px; margin:10px; width:120px; cursor:pointer; }
#sinal { font-size:22px; margin-top:20px; color:#00ff88; }
</style>
</head>
<body>

<h1>Insurance Baccarat Bot</h1>

<div>
<button onclick="enviar('P')">PLAYER</button>
<button onclick="enviar('B')">BANKER</button>
<button onclick="enviar('T')">EMPATE</button>
</div>

<p id="contador">Rodadas: 0 / 3</p>
<p id="historico"></p>

<div id="sinal"></div>

<script>
let rodadas = 0;

function enviar(r) {
    fetch("/add", {
        method: "POST",
        headers: {"Content-Type": "application/json"},
        body: JSON.stringify({resultado: r})
    })
    .then(res => res.json())
    .then(data => {
        rodadas++;
        document.getElementById("contador").innerText =
            "Rodadas: " + (rodadas % 3) + " / 3";

        document.getElementById("historico").innerText =
            "HistÃ³rico: " + data.historico.join(" ");

        if (data.sinal) {
            document.getElementById("sinal").innerText = "ðŸš¨ " + data.sinal;
            rodadas = 0;
        } else {
            document.getElementById("sinal").innerText = "";
        }
    });
}
</script>

</body>
</html>
